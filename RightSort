using System;
using System.Collections.Generic;
using System.Linq;

namespace Autocomplete;

public class RightBorderTask
{
	public static int GetRightBorderIndex(IReadOnlyList<string> phrases, string prefix, int left, int right)
    {
        while (left < right - 1)
        {
            var middle = (left + right) / 2;

            if (string.Compare(phrases[middle], prefix, StringComparison.InvariantCultureIgnoreCase) <= 0 ||
 				phrases[middle].StartsWith(prefix, StringComparison.InvariantCultureIgnoreCase))
            {
                left = middle;
            }
            else
            {
                right = middle;
            }
        }

        return right;
    }
}
